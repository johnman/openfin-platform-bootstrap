<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Fake Login</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="module" src="./fakelogin.js"></script>
    <style>
      body {
        font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-size: 18px;
        font-weight: 400;
        line-height: 1;
      }
    </style>
  </head>
  <body>
    <div>
      <p>
        This is a fake page that you will have to imagine has been redirected to
        by a server as it didn't see the relevant token when serving the target
        provider html page.
      </p>
      <p>
        The idea is that a user would log in and then get redirected to the page
        they were aiming for. In this scenario it is the platform provider page
        as it is the first thing launched.
      </p>
      <p>
        We have a preload script specified in the platform section of the
        manifest page. It performs a simple check. Is the currently loaded page
        the expected provider page? If it isn't then we should make this window
        visible so that the user can see it and login (you can add extra logic
        to position it and change the size etc if you wish). This is the page
        you are reading right now.
      </p>
      <p>
        After the user logs in (simulated by clicking the button below), the
        server will redirect them to the provider page. The preload script will
        run again and hide the window (as the provider window should be hidden).
      </p>
      <p>
        As the provider window is now running it will go through the bootstrap
        logic to determine what should be shown to the user (default window,
        saved window etc).
      </p>
      <p><button id="login">Fake Login</button></p>
    </div>
  </body>
</html>
